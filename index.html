<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>English Adventure - Eƒülenceli ƒ∞ngilizce √ñƒürenme</title>
<link rel="icon" href="data:," />
<style>
  :root {
    --primary: #667eea;
    --secondary: #764ba2;
    --accent: #ff6b6b;
    --accent2: #ffd166;
    --success: #34c759;
    --danger: #ff3b30;
    --warning: #ff9500;
    --info: #5ac8fa;
    --bg: #f8f9ff;
    --card: #ffffff;
    --text: #2c3e50;
    --text-light: #6c757d;
    --border: #e9ecef;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    font-family: 'Comic Sans MS', 'Chalkboard SE', 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: var(--text);
    line-height: 1.6;
    min-height: 100vh;
    touch-action: manipulation;
  }

  .app {
    max-width: 1200px;
    margin: 0 auto;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--bg);
    box-shadow: 0 0 50px rgba(0,0,0,0.1);
  }

  /* Header Styles */
  header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 15px;
    position: relative;
    overflow: hidden;
  }

  .header-content {
    display: flex;
    align-items: center;
    gap: 15px;
    position: relative;
    z-index: 2;
  }

  .logo {
    width: 60px;
    height: 60px;
    border-radius: 15px;
    background: linear-gradient(135deg, #ffd166, #ff6b6b);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 800;
    font-size: 24px;
    box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
    border: 3px solid rgba(255,255,255,0.3);
    animation: bounce 2s ease-in-out infinite;
    flex-shrink: 0;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-5px) scale(1.05); }
  }

  .header-text {
    flex: 1;
    min-width: 0;
  }

  h1 {
    margin: 0;
    font-size: 20px;
    font-weight: 800;
    background: linear-gradient(45deg, #fff, #ffd166);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    line-height: 1.2;
  }

  .subtitle {
    color: rgba(255,255,255,0.9);
    font-size: 12px;
    font-weight: 600;
    margin-top: 4px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .student-badge {
    background: rgba(255,255,255,0.2);
    padding: 6px 10px;
    border-radius: 10px;
    font-weight: 700;
    font-size: 11px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.3);
    margin-top: 6px;
    display: inline-block;
    animation: glow 2s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from { box-shadow: 0 0 5px rgba(255,255,255,0.5); }
    to { box-shadow: 0 0 10px rgba(255,255,255,0.8); }
  }

  /* Main Content */
  main {
    padding: 15px;
    flex: 1;
    background: var(--bg);
  }

  .card {
    background: var(--card);
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    border: 2px solid rgba(255,255,255,0.8);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.12);
  }

  /* Navigation Menu */
  .menu {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    padding: 8px 0;
  }

  .menu button {
    padding: 12px 8px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    font-weight: 700;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    min-height: 60px;
  }

  .menu button:active {
    transform: scale(0.95);
  }

  .menu button.active {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white;
    border-color: rgba(255,255,255,0.5);
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
  }

  /* Hero Section */
  .hero {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
    flex-wrap: wrap;
  }

  .hero-content {
    flex: 1;
    min-width: 0;
  }

  .hero h2 {
    font-size: 18px;
    color: var(--text);
    margin-bottom: 6px;
  }

  .hero p {
    color: var(--text-light);
    font-size: 13px;
    line-height: 1.4;
  }

  /* Buttons */
  .big-btn {
    width: 100%;
    padding: 16px;
    border-radius: 14px;
    border: none;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    font-weight: 800;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid rgba(255,255,255,0.3);
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    min-height: 55px;
    font-size: 14px;
  }

  .big-btn:active {
    transform: scale(0.98);
  }

  /* Grid Layouts */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
    margin-top: 12px;
  }

  .thumb {
    border-radius: 14px;
    overflow: hidden;
    position: relative;
    border: 3px solid transparent;
    transition: all 0.3s ease;
    background: white;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    cursor: pointer;
  }

  .thumb:active {
    transform: scale(0.95);
  }

  .thumb .media {
    width: 100%;
    height: 0;
    padding-top: 75%;
    position: relative;
    background: #f8f9fa;
  }

  .thumb img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 85%;
    max-height: 85%;
    object-fit: contain;
    display: block;
    transition: transform 0.3s ease;
  }

  .label {
    padding: 10px 6px;
    text-align: center;
    font-weight: 800;
    font-size: 13px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), transparent);
    color: var(--text);
  }

  /* Category Tabs */
  .category-tabs {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    padding: 12px 0;
    margin-bottom: 12px;
    scrollbar-width: none;
    -webkit-overflow-scrolling: touch;
  }

  .category-tabs::-webkit-scrollbar {
    display: none;
  }

  .category-tab {
    padding: 10px 16px;
    border-radius: 20px;
    border: 2px solid var(--border);
    background: white;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.3s ease;
    flex-shrink: 0;
  }

  .category-tab:active {
    transform: scale(0.95);
  }

  .category-tab.active {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  }

  .category-badge {
    background: rgba(255,255,255,0.9);
    color: var(--primary);
    border-radius: 8px;
    padding: 3px 6px;
    font-size: 11px;
    margin-left: 6px;
    font-weight: 800;
  }

  /* Quiz Styles */
  .choice-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-top: 16px;
  }

  .choice-thumb {
    border-radius: 14px;
    overflow: hidden;
    position: relative;
    background: white;
    border: 3px solid transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    min-height: 120px;
  }

  .choice-thumb:active {
    transform: scale(0.95);
  }

  .choice-thumb .media {
    width: 100%;
    height: 0;
    padding-top: 70%;
    position: relative;
  }

  .choice-thumb img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 85%;
    max-height: 85%;
    object-fit: contain;
    display: block;
  }

  .choice-thumb.correct {
    border-color: var(--success);
    box-shadow: 0 4px 15px rgba(52, 199, 89, 0.3);
    animation: correct-pulse 0.6s ease;
  }

  .choice-thumb.incorrect {
    border-color: var(--danger);
    box-shadow: 0 4px 15px rgba(255, 59, 48, 0.3);
    animation: shake 0.5s ease;
  }

  @keyframes correct-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  /* Progress and Stats */
  .progress-bar {
    width: 100%;
    height: 8px;
    background: var(--border);
    border-radius: 4px;
    overflow: hidden;
    margin: 8px 0;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--success), var(--info));
    border-radius: 4px;
    transition: width 0.3s ease;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin: 12px 0;
  }

  .stat-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 12px;
    border-radius: 12px;
    text-align: center;
  }

  .stat-number {
    font-size: 18px;
    font-weight: 800;
    margin-bottom: 4px;
  }

  .stat-label {
    font-size: 11px;
    opacity: 0.9;
  }

  /* Form Elements */
  input[type="text"], select {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: 2px solid var(--border);
    font-size: 14px;
    transition: all 0.3s ease;
    background: white;
    min-height: 45px;
  }

  /* Animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  .pulse {
    animation: pulse 2s infinite;
  }

  .float {
    animation: float 3s ease-in-out infinite;
  }

  /* Footer */
  footer {
    padding: 15px;
    text-align: center;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    font-size: 12px;
  }

  /* Special Effects */
  .confetti {
    position: fixed;
    width: 8px;
    height: 8px;
    background: var(--accent);
    border-radius: 50%;
    animation: confetti-fall 3s linear forwards;
    z-index: 1000;
  }

  @keyframes confetti-fall {
    0% {
      transform: translateY(-100px) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(360deg);
      opacity: 0;
    }
  }

  .celebration {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 36px;
    z-index: 1000;
    animation: celebration-pop 1s ease-out;
    text-align: center;
    background: rgba(255,255,255,0.95);
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }

  @keyframes celebration-pop {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
  }

  /* Mobile First Responsive */
  @media (min-width: 768px) {
    header { padding: 20px; }
    .logo { width: 80px; height: 80px; font-size: 32px; }
    h1 { font-size: 28px; }
    .subtitle { font-size: 14px; }
    .student-badge { font-size: 12px; padding: 8px 12px; }
    main { padding: 20px; }
    .card { padding: 20px; margin-bottom: 20px; border-radius: 20px; }
    .menu { gap: 10px; }
    .menu button { padding: 15px 10px; font-size: 14px; min-height: 70px; }
    .grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; }
    .choice-grid { grid-template-columns: repeat(4, 1fr); gap: 15px; }
    .big-btn { padding: 18px; font-size: 16px; min-height: 60px; }
  }

  /* Large screens */
  @media (min-width: 1024px) {
    .grid { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
  }
</style>
</head>
<body>
  <div class="app">
    <header>
      <div class="header-content">
        <div class="logo">üéì</div>
        <div class="header-text">
          <h1>English Adventure üöÄ</h1>
          <div class="subtitle">
            <span>Eƒülenceli ƒ∞ngilizce √ñƒürenme!</span>
            <span class="float">‚ú®</span>
          </div>
          <div class="student-badge">‚≠ê Eƒülenerek √ñƒüren! ‚≠ê</div>
        </div>
      </div>
    </header>

    <main>
      <div class="card">
        <div class="menu" role="tablist">
          <button id="menu-home" class="active" onclick="navigate('home')">
            <span style="font-size:18px">üè†</span><br>Anasayfa
          </button>
          <button id="menu-library" onclick="navigate('library')">
            <span style="font-size:18px">üìö</span><br>K√ºt√ºphane
          </button>
          <button id="menu-quiz" onclick="navigate('quiz')">
            <span style="font-size:18px">üéØ</span><br>Test
          </button>
          <button id="menu-settings" onclick="navigate('settings')">
            <span style="font-size:18px">‚öôÔ∏è</span><br>Ayarlar
          </button>
        </div>
      </div>

      <div id="view-home" class="card">
        <div class="hero">
          <div class="hero-content">
            <h2>Ho≈ü Geldiniz! üåü</h2>
            <p>Resimlere dokunun, kelimeleri dinleyin ve eƒülenerek ƒ∞ngilizce √∂ƒürenin!</p>
          </div>
          <div style="min-width:160px">
            <button class="big-btn pulse" onclick="navigate('quiz')">
              üéÆ Teste Ba≈üla!
            </button>
          </div>
        </div>
        
        <div class="category-tabs" id="homeCategoryTabs"></div>
        <div id="homeGallery" class="grid"></div>
      </div>

      <section id="view-library" class="card" style="display:none">
        <h2 style="margin-bottom:12px">üìö Kelime K√ºt√ºphanesi</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="totalWords">0</div>
            <div class="stat-label">Toplam Kelime</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="learnedWords">0</div>
            <div class="stat-label">√ñƒürenilen</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="categoriesCount">0</div>
            <div class="stat-label">Kategori</div>
          </div>
        </div>
        
        <div class="category-tabs" id="libraryCategoryTabs"></div>
        <div id="gallery" class="grid"></div>
      </section>

      <section id="view-quiz" class="card" style="display:none">
        <h2 style="margin-bottom:12px">üéØ Eƒülenceli Test</h2>
        <p style="color:var(--text-light);margin-bottom:12px">Sesle sorulan kelimenin doƒüru resmini bul!</p>
        
        <div style="background:linear-gradient(135deg,#f8f9ff,#e9ecef);padding:12px;border-radius:12px;margin-bottom:12px">
          <label style="font-weight:700;display:block;margin-bottom:6px">üé≤ Test Kategorisi:</label>
          <select id="quizCategory">
            <option value="all">T√ºm Kelimeler üåà</option>
          </select>
        </div>
        
        <button id="startQuizBtn" class="big-btn pulse" style="background:linear-gradient(135deg,#34c759,#6bffb0)">
          üöÄ Teste Ba≈üla!
        </button>
        
        <div id="quizArea" style="margin-top:16px"></div>
      </section>

      <section id="view-settings" class="card" style="display:none">
        <h2 style="margin-bottom:12px">‚öôÔ∏è Ayarlar</h2>
        
        <div style="margin-bottom:16px">
          <h3 style="margin-bottom:8px">üéµ Ses Ayarlarƒ±</h3>
          <label style="font-weight:700;display:block;margin-bottom:6px">Konu≈üma Dili:</label>
          <select id="voiceLang">
            <option value="en-US" selected>English (US) üá∫üá∏</option>
            <option value="en-GB">English (UK) üá¨üáß</option>
          </select>
        </div>

        <div style="margin-bottom:16px">
          <h3 style="margin-bottom:8px">üìÅ Kategori Y√∂netimi</h3>
          <div style="display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap">
            <input type="text" id="newCategoryName" placeholder="Yeni kategori..." style="flex:1;min-width:120px">
            <button onclick="addNewCategory()" class="big-btn" style="padding:10px 16px;background:linear-gradient(135deg,#ff6b6b,#ff8a6b)">
              ‚ûï Ekle
            </button>
          </div>
          <div id="categoryList"></div>
        </div>
      </section>
    </main>

    <footer>
      <div style="display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap;font-size:11px">
        <span>üéì Minikler i√ßin ƒ∞ngilizce</span>
        <span style="opacity:0.8">|</span>
        <span>Designed with ‚ù§Ô∏è by M.E.U</span>
      </div>
    </footer>
  </div>

<script>
// Kelime listesi
let words = [
  {
    id: "1",
    english: "skirt",
    turkce: "etek",
    category: "clothes",
    imageURL: "https://witcdn.sarar.com/sarar-blair-etek-15806-midi-etek-sarar-woman-41022-15-B.jpg",
    learned: false
  },
  {
    id: "2", 
    english: "shirt",
    turkce: "g√∂mlek",
    category: "clothes",
    imageURL: "https://karspor.com.tr/2as-gibson-erkek-gomlek-gomlek-2as-2332006-12-B.jpg",
    learned: false
  },
  {
    id: "3",
    english: "socks", 
    turkce: "√ßorap",
    category: "clothes",
    imageURL: "https://static.ticimax.cloud/47989/uploads/urunresimleri/buyuk/dikissiz-uzun-yun-corap-6-li-renkli--40de-.jpg",
    learned: false
  },
  {
    id: "T-shirt",
    english: "T-shirt",
    turkce: "ti≈ü√∂rt",
    category: "clothes",
    imageURL: "https://maisonsacreecannes.com/cdn/shop/files/SiyahTisortArka_b18748cf-6364-456d-86fe-d1bc34899e9f.jpg?v=1714572258",
    learned: false
  },
  {
    id: "Hat",
    english: "Hat",
    turkce: "≈üapka",
    category: "clothes",
    imageURL: "https://store.blaser.de/media/3f/69/f8/1659005531/122072-119-670-Blaser-Traveller-Hut_Produktbild_4000x4000px_01.png",
    learned: false
  },
  {
    id: "Dress",
    english: "Dress",
    turkce: "elbise",
    category: "clothes",
    imageURL: "https://www.goddess-exclusive.com/cdn/shop/files/E0386641-2686-46EE-9938-632625C5DBED-scaled@2x.jpg?v=1702992604",
    learned: false
  },
  {
    id: "Jacket",
    english: "Jacket",
    turkce: "ceket",
    category: "clothes",
    imageURL: "https://www.tanyel.com.tr/wp-content/uploads/2021/12/siyah-bomber-jacket.jpg",
    learned: false
  },
  {
    id: "Shoes",
    english: "Shoes",
    turkce: "ayakkabƒ±",
    category: "clothes",
    imageURL: "https://img.joomcdn.net/400fd3ae598c2eacedd566267d78366bc15e16cc_original.jpeg",
    learned: false
  },
  {
    id: "Pants",
    english: "Pants",
    turkce: "pantolon",
    category: "clothes",
    imageURL: "https://outdoorvitals.com/cdn/shop/products/brownsatushopify.png?v=1701706579&width=1000",
    learned: false
  },
  {
    id: "Gloves",
    english: "Gloves",
    turkce: "eldiven",
    category: "clothes",
    imageURL: "https://www.boytharness.com/cdn/shop/files/BAShootingGLovesBlack.jpg?v=1696428768&width=1445",
    learned: false
  },
  {
    id: "Sunglasses",
    english: "Sunglasses",
    turkce: "g√ºne≈ü g√∂zl√ºƒü√º",
    category: "clothes",
    imageURL: "https://store.lagunitas.com/cdn/shop/products/IPASunglasses_1200x600_crop_center.png?v=1668725556",
    learned: false
  },
  {
    id: "Umbrella",
    english: "Umbrella",
    turkce: "≈üemsiye",
    category: "clothes",
    imageURL: "https://www.walkingsticks.co.uk/user/products/Black-Canopy-Gents-Umbrella-with-Bamboo-Handle-ik-6-23(4).jpg",
    learned: false
  },
  {
    id: "tomatoes",
    english: "tomatoes",
    turkce: "domates",
    category: "fruits",
    imageURL: "https://foodcare.in/cdn/shop/files/tomatoes-canva.webp?v=1725364526",
    learned: false
  },
  {
    id: "broccoli",
    english: "broccoli",
    turkce: "brokoli",
    category: "fruits",
    imageURL: "https://www.healthyfood.com/wp-content/uploads/2017/03/What_to_do_with_broccoli-1-500x375.jpg",
    learned: false
  },
  {
    id: "onions",
    english: "onions",
    turkce: "soƒüan",
    category: "fruits",
    imageURL: "https://produits.bienmanger.com/36700-0w470h470_Organic_Red_Onion_From_Italy.jpg",
    learned: false
  },
  {
    id: "carrot",
    english: "carrot",
    turkce: "havu√ß",
    category: "fruits",
    imageURL: "https://www.allthatgrows.in/cdn/shop/products/Carrot-Orange.jpg?v=1598079671",
    learned: false
  },
  {
    id: "grape",
    english: "grape",
    turkce: "√ºz√ºm",
    category: "fruits",
    imageURL: "https://extension.psu.edu/media/catalog/product/5/9/598fa4dc3131dff06c11acffafcc0e6a.jpeg?quality=80&bg-color=255,255,255&fit=bounds&height=&width=&canvas=:",
    learned: false
  },
  {
    id: "Orange",
    english: "Orange",
    turkce: "portakal",
    category: "fruits",
    imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9yz1d_OrZBKB6TIWRyUtCIPBIjgyDOpybxw&s",
    learned: false
  },
  {
    id: "Lettuce",
    english: "Lettuce",
    turkce: "marul",
    category: "fruits",
    imageURL: "https://green-goblin.in/cdn/shop/files/LettuceLeafy1webp.webp?v=1709991868",
    learned: false
  },
  {
    id: "Milk",
    english: "Milk",
    turkce: "s√ºt",
    category: "fruits",
    imageURL: "https://d3c7odttnp7a2d.cloudfront.net/assets/10669/Website_Promo_Image_1290_x_860__5__full_width%402x.png",
    learned: false
  },
  {
    id: "Tea",
    english: "Tea",
    turkce: "√ßay",
    category: "fruits",
    imageURL: "https://www.foodandwine.com/thmb/6wTm7a0y87X97LK-ZMxe2787kI8=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/different-types-of-tea-FT-BLOG0621-7c7fd231e66d4fea8ca9a47cad52ba79.jpg",
    learned: false
  },
  {
    id: "Orange juice",
    english: "Orange juice",
    turkce: "portakal suyu",
    category: "fruits",
    imageURL: "https://www.alphafoodie.com/wp-content/uploads/2020/11/Orange-Juice-1-of-1.jpeg",
    learned: false
  },
  {
    id: "Water",
    english: "Water",
    turkce: "su",
    category: "fruits",
    imageURL: "https://www.thespruceeats.com/thmb/4Uxr_CKC7aR-UhEicIvVqLaiO0k=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/GettyImages-488636063-5ab2dbd8a8ff48049cfd36e8ad841ae5.jpg",
    learned: false
  },
  {
    id: "lemonade",
    english: "Lemonade",
    turkce: "limonata",
    category: "fruits",
    imageURL: "https://i2.wp.com/lmld.org/wp-content/uploads/2022/04/Lemonade-4.jpg",
    learned: false
  },
  {
    id: "Milkshake",
    english: "Milkshake",
    turkce: "milkshake",
    category: "fruits",
    imageURL: "https://assets.epicurious.com/photos/647df8cad9749492c4d5d407/1:1/w_4506,h_4506,c_limit/StrawberryMilkshake_RECIPE_053123_3599.jpg",
    learned: false
  },
  {
    id: "Ear",
    english: "Ear",
    turkce: "kulak",
    category: "body",
    imageURL: "https://media.istockphoto.com/id/1394801910/vector/realistic-human-ear-isolated-on-white-background-human-ear-organ-hearing-health-care-closeup.jpg?s=612x612&w=0&k=20&c=Sz7uFiG7-aXja7r7M8qaSuH_7AicbixpuKB87LWKXbA=",
    learned: false
  },
  {
    id: "Nose",
    english: "Nose",
    turkce: "burun",
    category: "body",
    imageURL: "https://img.freepik.com/premium-vector/human-nose-realistic-vector-illustration_476141-1279.jpg",
    learned: false
  },
  {
    id: "Foot",
    english: "Foot",
    turkce: "ayak",
    category: "body",
    imageURL: "https://wp-cms.sioux.de/wp-content/uploads/2021/06/3_teaser.jpg",
    learned: false
  },
  {
    id: "Head",
    english: "Head",
    turkce: "kafa",
    category: "body",
    imageURL: "https://static.vecteezy.com/system/resources/previews/034/898/309/non_2x/boy-cartoon-head-isolated-white-background-free-vector.jpg",
    learned: false
  },
  {
    id: "Mouth",
    english: "Mouth",
    turkce: "aƒüƒ±z",
    category: "body",
    imageURL: "https://cdn.storymd.com/optimized/8dnBmzcvdn/original.jpg",
    learned: false
  },
  {
    id: "Eye",
    english: "Eye",
    turkce: "g√∂z",
    category: "body",
    imageURL: "https://static.vecteezy.com/system/resources/thumbnails/036/148/076/small/human-eye-illustration-vector.jpg",
    learned: false
  },
  {
    id: "Hand",
    english: "Hand",
    turkce: "el",
    category: "body",
    imageURL: "https://media.istockphoto.com/id/1063879304/vector/hand.jpg?s=612x612&w=0&k=20&c=w4mR7qO939DqZOPJoBGOCSRTttUdxAM8eCTRbDgpfO8=",
    learned: false
  },
  {
    id: "Arm",
    english: "Arm",
    turkce: "kol",
    category: "body",
    imageURL: "https://cdn.pixabay.com/photo/2023/08/25/22/35/arm-8213822_1280.png",
    learned: false
  },
  {
    id: "Finger",
    english: "Finger",
    turkce: "parmak",
    category: "body",
    imageURL: "https://images.twinkl.co.uk/tw1n/image/private/t_630/u/ux/finger-spacing-hand_ver_1.png",
    learned: false
  },
  {
    id: "Leg",
    english: "Leg",
    turkce: "bacak",
    category: "body",
    imageURL: "https://png.pngtree.com/png-clipart/20201226/ourmid/pngtree-cartoon-muscle-leg-clipart-png-image_2638561.jpg",
    learned: false
  },
  {
    id: "Teeth",
    english: "Teeth",
    turkce: "di≈ü",
    category: "body",
    imageURL: "https://crystallinedental.com/storage/2025/01/How-Many-Teeth-Do-Adults-Have.jpg",
    learned: false
  },
  {
    id: "Shoulder",
    english: "Shoulder",
    turkce: "omuz",
    category: "body",
    imageURL: "https://learnenglishkids.britishcouncil.org/sites/kids/files/styles/max_325x325/public/RS1374_Shoulders%20col-web.jpg?itok=Y_2HkUB2",
    learned: false
  },
  {
    id: "Knee",
    english: "Knee",
    turkce: "diz",
    category: "body",
    imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ56M6j9k4QFr-_0yLD8VYV7ETdVY-g9C9unw&s",
    learned: false
  },
   {
    id: "Black",
    english: "Black",
    turkce: "siyah",
    category: "Color",
    imageURL: "https://png.pngtree.com/png-clipart/20201029/ourmid/pngtree-circle-clipart-black-circle-png-image_2381996.jpg",
    learned: false
  },
  {
    id: "White",
    english: "White",
    turkce: "Beyaz",
    category: "Color",
    imageURL: "https://w7.pngwing.com/pngs/698/1004/png-transparent-chanel-white-circle-area-angle-circles-angle-white-text-thumbnail.png",
    learned: false
  },
  {
    id: "Gray",
    english: "Gray",
    turkce: "Gri",
    category: "Color",
    imageURL: "https://avatars.mds.yandex.net/i?id=abbe6591f1b4cd42737872c87689d9bfd637d2c2-4255743-images-thumbs&n=13",
    learned: false
  },
  {
    id: "Brown",
    english: "Brown",
    turkce: "Kahverengi",
    category: "Color",
    imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThSf5FsI7RTDjh5rJ5V-tvjYEy9DzsmUQBSA&s",
    learned: false
  },
   {
    id: "Purple",
    english: "Purple",
    turkce: "Mor",
    category: "Color",
    imageURL: "https://images.emojiterra.com/google/noto-emoji/unicode-15/color/512px/1f7e3.png",
    learned: false
  },
   {
    id: "Blue",
    english: "Blue",
    turkce: "Mavi",
    category: "Color",
    imageURL: "https://www.rowsignsandgraphics.com/wp-content/uploads/2021/09/Circle-Blue-Inset-notext.jpg",
    learned: false
  },
   {
    id: "Green",
    english: "Green",
    turkce: "Ye≈üil",
    category: "Color",
    imageURL: "https://static.wikia.nocookie.net/speed-city/images/c/c6/GreenCircleIMG.png/revision/latest?cb=20190304214856",
    learned: false
  },
   {
    id: "Yellow",
    english: "Yellow",
    turkce: "Sarƒ±",
    category: "Color",
    imageURL: "https://png.pngtree.com/png-clipart/20201029/ourmid/pngtree-circle-clipart-yellow-circle-png-image_2381940.jpg",
    learned: false
  },
   {
    id: "Orange",
    english: "Orange",
    turkce: "Turuncu",
    category: "Color",
    imageURL: "https://images.emojiterra.com/twitter/v14.0/1024px/1f7e0.png",
    learned: false
  },
   {
    id: "Red",
    english: "Red",
    turkce: "Kƒ±rmƒ±zƒ±",
    category: "Color",
    imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYq2NbbOY2ffDf-kHHhKD54pGkVBG9H3gdAA&s",
    learned: false
  },
   {
    id: "Pink",
    english: "Pink",
    turkce: "Pembe",
    category: "Color",
    imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiuUskfJkMP5qBhdoMrdOdfXvJ7wj3HQqvog&s",
    learned: false
  }
  
];

const categories = {
  "all": { name: "T√ºm Kelimeler üåà", description: "T√ºm kelimeler" },
  "clothes": { name: "üëï Clothes", description: "Giyim e≈üyalarƒ±" },
  "fruits": { name: "üçé Food and Drinks", description: "Food and Drinks" },
  "body": { name: "üë§ Body", description: "V√ºcut b√∂l√ºmleri" }
  "Color": { name: "üé® Color", description: "Renkler" }
};

let selectedCategory = {
  home: "all",
  library: "all",
  quiz: "all"
};

let currentQuiz = null;

// Konfeti efekti
function createConfetti() {
  const colors = ['#ff6b6b', '#ffd166', '#06d6a0', '#118ab2', '#ef476f'];
  for (let i = 0; i < 30; i++) {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.left = Math.random() * 100 + 'vw';
    confetti.style.animationDelay = Math.random() * 2 + 's';
    document.body.appendChild(confetti);
    
    setTimeout(() => confetti.remove(), 3000);
  }
}

// Kutlama efekti
function showCelebration(message) {
  const celebration = document.createElement('div');
  celebration.className = 'celebration';
  celebration.innerHTML = message;
  document.body.appendChild(celebration);
  
  createConfetti();
  
  setTimeout(() => celebration.remove(), 2000);
}

// ƒ∞statistikleri g√ºncelle
function updateStats() {
  document.getElementById('totalWords').textContent = words.length;
  document.getElementById('learnedWords').textContent = words.filter(w => w.learned).length;
  document.getElementById('categoriesCount').textContent = Object.keys(categories).length - 1;
}

// Navigasyon
function navigate(view) {
  document.querySelectorAll('.menu button').forEach(b => b.classList.remove('active'));
  document.getElementById('menu-' + view).classList.add('active');
  
  ['home', 'library', 'quiz', 'settings'].forEach(v => {
    document.getElementById('view-' + v).style.display = (v === view ? 'block' : 'none');
  });
  
  if (view === 'home' || view === 'library') {
    renderCategoryTabs(view);
    if (view === 'home') renderHomeGallery();
    if (view === 'library') renderGallery();
    updateStats();
  } else if (view === 'quiz') {
    updateQuizCategorySelect();
  } else if (view === 'settings') {
    renderCategoryManagement();
  }
}

// Kategori sekmeleri
function renderCategoryTabs(view) {
  const containerId = view + 'CategoryTabs';
  const container = document.getElementById(containerId);
  container.innerHTML = '';
  
  Object.keys(categories).forEach(catId => {
    const cat = categories[catId];
    const tab = document.createElement('div');
    tab.className = `category-tab ${selectedCategory[view] === catId ? 'active' : ''}`;
    tab.innerHTML = `${cat.name} <span class="category-badge">${getWordCountByCategory(catId)}</span>`;
    tab.onclick = () => {
      selectedCategory[view] = catId;
      renderCategoryTabs(view);
      if (view === 'home') renderHomeGallery();
      if (view === 'library') renderGallery();
    };
    container.appendChild(tab);
  });
}

function getWordCountByCategory(categoryId) {
  if (categoryId === 'all') return words.length;
  return words.filter(word => word.category === categoryId).length;
}

function getWordsByCategory(categoryId) {
  if (categoryId === 'all') return words;
  return words.filter(word => word.category === categoryId);
}

// Anasayfa galerisi
function renderHomeGallery() {
  const el = document.getElementById('homeGallery');
  el.innerHTML = '';
  
  const filteredWords = getWordsByCategory(selectedCategory.home);
  
  if (filteredWords.length === 0) {
    el.innerHTML = '<div style="text-align:center;padding:30px;color:var(--text-light)">Bu kategoride hen√ºz kelime yok.</div>';
    return;
  }
  
  filteredWords.slice().reverse().forEach(w => {
    const d = document.createElement('div');
    d.className = 'thumb';
    if (w.learned) d.style.borderColor = 'var(--success)';
    
    d.innerHTML = `
      <div class="media">
        <img src="${escapeHtml(w.imageURL)}" alt="${escapeHtml(w.english)}" loading="lazy">
        ${w.learned ? '<div style="position:absolute;top:6px;right:6px;background:var(--success);color:white;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:10px;">‚úì</div>' : ''}
      </div>
      <div class="label">${escapeHtml(w.english)}</div>
    `;
    
    d.onclick = () => {
      speakWord(w.english);
      if (!w.learned) {
        w.learned = true;
        d.style.borderColor = 'var(--success)';
        updateStats();
      }
    };
    
    el.appendChild(d);
  });
}

// K√ºt√ºphane
function renderGallery() {
  const el = document.getElementById('gallery');
  el.innerHTML = '';
  
  const filteredWords = getWordsByCategory(selectedCategory.library);
  
  if (filteredWords.length === 0) {
    el.innerHTML = '<div style="text-align:center;padding:30px;color:var(--text-light)">Bu kategoride hen√ºz kelime yok.</div>';
    return;
  }
  
  filteredWords.slice().reverse().forEach(w => {
    const d = document.createElement('div');
    d.className = 'thumb';
    if (w.learned) d.style.borderColor = 'var(--success)';
    
    d.innerHTML = `
      <div class="media">
        <img src="${escapeHtml(w.imageURL)}" alt="${escapeHtml(w.english)}" loading="lazy">
      </div>
      <div class="label">${escapeHtml(w.english)}</div>
    `;
    
    const btns = document.createElement('div');
    btns.style.display = 'flex';
    btns.style.justifyContent = 'center';
    btns.style.gap = '8px';
    btns.style.padding = '8px';
    
    const pBtn = document.createElement('button');
    pBtn.innerText = 'üîä';
    pBtn.style.padding = '8px 12px';
    pBtn.style.borderRadius = '8px';
    pBtn.style.border = 'none';
    pBtn.style.background = 'var(--primary)';
    pBtn.style.color = 'white';
    pBtn.onclick = (ev) => {
      ev.stopPropagation();
      speakWord(w.english);
    };
    
    btns.appendChild(pBtn);
    d.appendChild(btns);
    el.appendChild(d);
  });
}

// Test kategorisi se√ßimi
function updateQuizCategorySelect() {
  const select = document.getElementById('quizCategory');
  select.innerHTML = '<option value="all">T√ºm Kelimeler üåà</option>';
  
  Object.keys(categories).forEach(catId => {
    if (catId !== 'all') {
      const cat = categories[catId];
      const option = document.createElement('option');
      option.value = catId;
      option.textContent = `${cat.name} (${getWordCountByCategory(catId)})`;
      select.appendChild(option);
    }
  });
}

// Test ba≈ülatma
function startQuiz() {
  const selectedCat = document.getElementById('quizCategory').value;
  let quizWords = getWordsByCategory(selectedCat);
  
  if (quizWords.length === 0) {
    alert('Se√ßilen kategoride kelime yok. üìù');
    return;
  }
  
  if (quizWords.length < 3) {
    alert('Test i√ßin en az 3 kelime gereklidir. üéØ');
    return;
  }
  
  const questions = shuffle([...quizWords]).slice(0, 10);
  currentQuiz = {
    questions,
    index: 0,
    results: [],
    category: selectedCat
  };
  renderQuizQuestion();
}

// Test sorusu
function renderQuizQuestion() {
  const qObj = currentQuiz.questions[currentQuiz.index];
  const qArea = document.getElementById('quizArea');
  
  qArea.innerHTML = `
    <div style="text-align:center;margin-bottom:16px;">
      <div style="font-weight:800;font-size:16px;">Soru ${currentQuiz.index + 1} / ${currentQuiz.questions.length}</div>
      <div class="small" style="color:var(--text-light);margin-top:4px;">Kategori: ${categories[currentQuiz.category]?.name || 'T√ºm Kelimeler'}</div>
    </div>
    <div style="text-align:center;margin-bottom:16px;">
      <button id="playWordBtn" class="big-btn" style="background:linear-gradient(135deg,#ff6b6b,#ff8a6b);min-height:50px;">
        üîä Kelimeyi Dinle
      </button>
    </div>
  `;
  
  document.getElementById('playWordBtn').onclick = () => speakWord(qObj.english);
  setTimeout(() => speakWord(qObj.english), 500);
  
  const categoryWords = getWordsByCategory(currentQuiz.category);
  const decoys = categoryWords.filter(w => w.id !== qObj.id);
  const allDecoys = decoys.length >= 3 ? decoys : words.filter(w => w.id !== qObj.id);
  const pick = shuffle([...allDecoys]).slice(0, 3);
  const choices = shuffle([qObj, ...pick]);
  
  const grid = document.createElement('div');
  grid.className = 'choice-grid';
  
  choices.forEach(choice => {
    const choiceEl = document.createElement('div');
    choiceEl.className = 'choice-thumb';
    choiceEl.innerHTML = `
      <div class="media">
        <img src="${escapeHtml(choice.imageURL)}" alt="" loading="lazy">
      </div>
    `;
    
    choiceEl.onclick = async function() {
      if (choiceEl.classList.contains('correct') || choiceEl.classList.contains('incorrect')) return;
      
      const correct = choice.id === qObj.id;
      
      if (correct) {
        choiceEl.classList.add('correct');
        showCelebration('üéâ Doƒüru!<br>Harikasƒ±n! ü•≥');
        await speakFeedbackAsync('Tebrikler! Doƒüru cevap!', 1);
        
        setTimeout(() => {
          if (currentQuiz.index + 1 < currentQuiz.questions.length) {
            currentQuiz.index++;
            renderQuizQuestion();
          } else {
            showQuizSummaryWithSpeech();
          }
        }, 2000);
      } else {
        choiceEl.classList.add('incorrect');
        await speakFeedbackAsync('Yanlƒ±≈ü cevap, tekrar dene!', 1);
        
        setTimeout(() => {
          choiceEl.classList.remove('incorrect');
        }, 1000);
      }
      
      currentQuiz.results.push({ qid: qObj.id, correct });
    };
    
    grid.appendChild(choiceEl);
  });
  
  qArea.appendChild(grid);
}

// Test √∂zeti
async function showQuizSummaryWithSpeech() {
  const area = document.getElementById('quizArea');
  const correctCount = currentQuiz.results.filter(r => r.correct).length;
  const total = currentQuiz.results.length;
  const percentage = Math.round((correctCount / total) * 100);
  
  area.innerHTML = `
    <div style="text-align:center;padding:16px;">
      <div style="font-size:36px;margin-bottom:8px">${percentage >= 70 ? 'üéâ' : 'üëç'}</div>
      <h3>Test Tamamlandƒ±!</h3>
      <div style="font-size:20px;font-weight:800;margin:8px 0;color:var(--primary)">${correctCount} / ${total} doƒüru</div>
      <div style="background:linear-gradient(135deg,#f8f9ff,#e9ecef);padding:12px;border-radius:12px;margin:12px 0;">
        <div class="progress-bar">
          <div class="progress-fill" style="width:${percentage}%"></div>
        </div>
        <div style="font-size:13px;color:var(--text-light);margin-top:4px">%${percentage} Ba≈üarƒ±</div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:16px;">
        <button onclick="startQuiz()" class="big-btn" style="background:linear-gradient(135deg,#34c759,#6bffb0);font-size:13px;">
          üîÑ Tekrar Dene
        </button>
        <button onclick="navigate('library')" class="big-btn" style="background:linear-gradient(135deg,#667eea,#764ba2);font-size:13px;">
          üìö K√ºt√ºphane
        </button>
      </div>
    </div>
  `;
  
  const summary = `Test bitti. ${correctCount} doƒüru, ${total - correctCount} yanlƒ±≈ü.`;
  await speakWithLangPromise(summary, 'tr-TR');
  
  currentQuiz = null;
}

// Ses fonksiyonlarƒ±
function speakWithLangPromise(text, lang = 'en-US', rate = 0.9) {
  return new Promise((resolve) => {
    if (!('speechSynthesis' in window)) {
      resolve();
      return;
    }
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.lang = lang;
    u.rate = rate;
    u.onend = () => resolve();
    u.onerror = () => resolve();
    window.speechSynthesis.speak(u);
  });
}

function speakWord(text) {
  const lang = document.getElementById('voiceLang').value || 'en-US';
  speakWithLangPromise(text, lang);
}

async function speakFeedbackAsync(text, repeats = 1, delay = 700) {
  await speakWithLangPromise(text, 'tr-TR');
  for (let i = 1; i < repeats; i++) {
    await new Promise(r => setTimeout(r, delay));
    await speakWithLangPromise(text, 'tr-TR');
  }
}

// Yardƒ±mcƒ± fonksiyonlar
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function escapeHtml(s) {
  return (s || '').replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
}

// Sayfa y√ºklendiƒüinde
document.addEventListener('DOMContentLoaded', function() {
  navigate('home');
  updateStats();
});

document.getElementById('startQuizBtn').addEventListener('click', startQuiz);
</script>
</body>
</html>
